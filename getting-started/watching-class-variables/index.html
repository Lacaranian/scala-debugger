<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Chip Senkbeil">
        <link rel="canonical" href="http://www.scala-debugger.org/getting-started/watching-class-variables/">
        <link rel="shortcut icon" href="../../../../img/favicon.ico">
        

	<title>Watching class variables - Scala Debugger</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/extra.css" rel="stylesheet">
        <link href="../../css/no-home.css" rel="stylesheet">
        <link href="../../css/font-mfizz-2.2/font-mfizz.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Scala Debugger</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Getting Started <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../what-is-a-debugger/">What is a Debugger?</a>
</li>

                        
                            
<li >
    <a href="../installation/">Installation</a>
</li>

                        
                            
<li >
    <a href="../available-debugger-connections/">Available Debugger Connections</a>
</li>

                        
                            
<li >
    <a href="../event-pipelines/">Event Pipelines</a>
</li>

                        
                            
<li >
    <a href="../working-with-breakpoints/">Working with Breakpoints</a>
</li>

                        
                            
<li >
    <a href="../stepping-through-code/">Stepping through Code</a>
</li>

                        
                            
<li class="active">
    <a href="./">Watching class variables</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Advanced Topics <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../advanced-topics/what-is-the-profile-system/">What is the Profile System?</a>
</li>

                        
                            
<li >
    <a href="../../advanced-topics/what-is-the-low-level-api/">What is the Low-Level API?</a>
</li>

                        
                            
<li >
    <a href="../../advanced-topics/using-extra-arguments-for-requests/">Using Extra Arguments for Requests</a>
</li>

                        
                            
<li >
    <a href="../../advanced-topics/making-requests-early/">Making Requests Early</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Cookbook <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../cookbook/creating-a-launching-debugger/">Creating a Launching Debugger</a>
</li>

                        
                            
<li >
    <a href="../../cookbook/creating-an-attaching-debugger/">Creating an Attaching Debugger</a>
</li>

                        
                            
<li >
    <a href="../../cookbook/creating-a-listening-debugger/">Creating a Listening Debugger</a>
</li>

                        
                            
<li >
    <a href="../../cookbook/creating-a-breakpoint/">Creating a Breakpoint</a>
</li>

                        
                            
<li >
    <a href="../../cookbook/stepping-over-a-line-of-code/">Stepping over a Line of Code</a>
</li>

                        
                            
<li >
    <a href="../../cookbook/watching-modification-of-a-class-variable/">Watching Modification of a Class Variable</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Scaladoc <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../external/scaladoc-2.10/">Scaladoc 2.10</a>
</li>

                        
                            
<li >
    <a href="../../external/scaladoc-2.11/">Scaladoc 2.11</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../about/roadmap/">Roadmap</a>
</li>

                        
                            
<li >
    <a href="../../about/release-notes/">Release Notes</a>
</li>

                        
                            
<li >
    <a href="../../about/contributing/">Contributing</a>
</li>

                        
                            
<li >
    <a href="../../about/license/">License</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../stepping-through-code/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../../advanced-topics/what-is-the-profile-system/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/chipsenkbeil/scala-debugger-api/">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#working-with-watchpoints">Working with watchpoints</a></li>
        
            <li><a href="#overview">Overview</a></li>
        
            <li><a href="#creating">Creating</a></li>
        
            <li><a href="#pipelining">Pipelining</a></li>
        
            <li><a href="#removing">Removing</a></li>
        
            <li><a href="#cookbook">Cookbook</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="working-with-watchpoints">Working with watchpoints<a class="headerlink" href="#working-with-watchpoints" title="Permanent link">&para;</a></h1>
<hr />
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The following will provide you with a brief overview of creating watchpoints,
chaining together reactions to watchpoint events, and removing watchpoints.</p>
<h2 id="creating">Creating<a class="headerlink" href="#creating" title="Permanent link">&para;</a></h2>
<p>The Scala debugger API provides a simple way to create watchpoints in your
debugger application. Given a <em>ScalaVirtualMachine</em> instance, you can execute
the <code>onAccessWatchpoint</code> or <code>onUnsafeAccessWatchpoint</code> method to place a
watchpoint that triggers when a field is accessed (read) or
<code>onModificationWatchpoint</code> or <code>onUnsafeModificationWatchpoint</code> method to
place a watchpoint that triggers when a field is modified (written).</p>
<pre><code class="scala">val s: ScalaVirtualMachine = /* some virtual machine */
s.onUnsafeAccessWatchpoint(&quot;some.class.name&quot;, &quot;fieldName&quot;)
</code></pre>

<p>You do not need to worry about creating the same watchpoint over and over
as these methods cache your request based on the provided arguments.
So, you can reference the same watchpoint multiple times.</p>
<p>The difference between safe and unsafe operations is that the unsafe operation
will throw an exception if an error occurs that prevents the watchpoint from
being created while the safe operation will wrap the error in a <code>Try</code> object.</p>
<h2 id="pipelining">Pipelining<a class="headerlink" href="#pipelining" title="Permanent link">&para;</a></h2>
<p>Once you have created a watchpoint, you can chain together a pipeline of
functions that you want to execute when the watchpoint is triggered. These
functions are consistent with standard Scala <code>map</code>, <code>flatMap</code>, and <code>foreach</code>
structure.</p>
<pre><code class="scala">val s: ScalaVirtualMachine = /* some virtual machine */
s.onUnsafeAccessWatchpoint(&quot;some.class.name&quot;, &quot;fieldName&quot;).foreach(e =&gt; {
  val className = e.field().declaringType().name()
  val fieldName = e.field().name()

  println(s&quot;$className had field $fieldName accessed!&quot;)
})
</code></pre>

<h2 id="removing">Removing<a class="headerlink" href="#removing" title="Permanent link">&para;</a></h2>
<p>Whenever you are finished with the watchpoint, you can remove it by closing the
associated pipeline.</p>
<pre><code class="scala">val s: ScalaVirtualMachine = /* some virtual machine */
val w = s.onUnsafeAccessWatchpoint(&quot;some.class.name&quot;, &quot;fieldName&quot;)

w.foreach(_ =&gt; println(&quot;Field accessed!&quot;))

import org.scaladebugger.api.profiles.Constants.CloseRemoveAll
w.close(data = CloseRemoveAll)
</code></pre>

<div class="admonition warning">
<p class="admonition-title">Warning:</p>
<p>Currently, you must provide close with the flag <code>CloseRemoveAll</code> in order
to remove the request and any underlying event handlers.</p>
<p>Specifying close without that flag will only stop events going through
that specific pipeline. If all pipelines associated with a request are
closed, the request will also be removed.</p>
</div>
<p>By default, <code>close</code> will be triggered immediately. Alternatively, you can
invoke <code>close</code> with <code>now = false</code> to close the pipeline once the next
event occurs.</p>
<h2 id="cookbook">Cookbook<a class="headerlink" href="#cookbook" title="Permanent link">&para;</a></h2>
<p>See the <a href="../../cookbook/watching-modification-of-a-class-variable/">cookbook</a> for a working example.</p></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
                <p>Copyright &copy; 2015 <a href="http://chipsenkbeil.com">Chip Senkbeil</a>.</p>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
