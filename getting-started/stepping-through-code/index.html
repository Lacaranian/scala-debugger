<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Chip Senkbeil">
        <link rel="canonical" href="http://www.scala-debugger.org/getting-started/stepping-through-code/">
        <link rel="shortcut icon" href="../../../../img/favicon.ico">
        

	<title>Stepping through Code - Scala Debugger</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/extra.css" rel="stylesheet">
        <link href="../../css/no-home.css" rel="stylesheet">
        <link href="../../css/font-mfizz-2.2/font-mfizz.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-71733200-1', 'scala-debugger.org');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Scala Debugger</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Getting Started <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../what-is-a-debugger/">What is a Debugger?</a>
</li>

                        
                            
<li >
    <a href="../installation/">Installation</a>
</li>

                        
                            
<li >
    <a href="../available-debugger-connections/">Available Debugger Connections</a>
</li>

                        
                            
<li >
    <a href="../event-pipelines/">Event Pipelines</a>
</li>

                        
                            
<li >
    <a href="../working-with-breakpoints/">Working with Breakpoints</a>
</li>

                        
                            
<li class="active">
    <a href="./">Stepping through Code</a>
</li>

                        
                            
<li >
    <a href="../watching-class-variables/">Watching class variables</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Advanced Topics <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../advanced-topics/what-is-the-profile-system/">What is the Profile System?</a>
</li>

                        
                            
<li >
    <a href="../../advanced-topics/what-is-the-low-level-api/">What is the Low-Level API?</a>
</li>

                        
                            
<li >
    <a href="../../advanced-topics/using-extra-arguments-for-requests/">Using Extra Arguments for Requests</a>
</li>

                        
                            
<li >
    <a href="../../advanced-topics/making-requests-early/">Making Requests Early</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Cookbook <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../cookbook/creating-a-launching-debugger/">Creating a Launching Debugger</a>
</li>

                        
                            
<li >
    <a href="../../cookbook/creating-an-attaching-debugger/">Creating an Attaching Debugger</a>
</li>

                        
                            
<li >
    <a href="../../cookbook/creating-a-listening-debugger/">Creating a Listening Debugger</a>
</li>

                        
                            
<li >
    <a href="../../cookbook/creating-a-breakpoint/">Creating a Breakpoint</a>
</li>

                        
                            
<li >
    <a href="../../cookbook/stepping-over-a-line-of-code/">Stepping over a Line of Code</a>
</li>

                        
                            
<li >
    <a href="../../cookbook/watching-modification-of-a-class-variable/">Watching Modification of a Class Variable</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Scaladoc <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../external/scaladoc-2.10/">Scaladoc 2.10</a>
</li>

                        
                            
<li >
    <a href="../../external/scaladoc-2.11/">Scaladoc 2.11</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../about/roadmap/">Roadmap</a>
</li>

                        
                            
<li >
    <a href="../../about/release-notes/">Release Notes</a>
</li>

                        
                            
<li >
    <a href="../../about/contributing/">Contributing</a>
</li>

                        
                            
<li >
    <a href="../../about/license/">License</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../working-with-breakpoints/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../watching-class-variables/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/ensime/scala-debugger/">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#stepping-through-code">Stepping through Code</a></li>
        
            <li><a href="#overview">Overview</a></li>
        
            <li><a href="#requirements">Requirements</a></li>
        
            <li><a href="#performing-a-step">Performing a step</a></li>
        
            <li><a href="#cookbook">Cookbook</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="stepping-through-code">Stepping through Code<a class="headerlink" href="#stepping-through-code" title="Permanent link">&para;</a></h1>
<hr />
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The following will provide you with a brief overview of stepping into, over,
and out of lines of code in a target JVM.</p>
<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h2>
<p>In order to step through your code, you need to be in a suspended state in your
target JVM. This typically means that you have placed a breakpoint somewhere in
your target JVM, hit it, and want to begin stepping from that location.</p>
<p>In the explanation below, you will see examples using breakpoints as a means to
reach a state where you can begin stepping through your JVM.</p>
<p>When stepping into, over, or out of lines/frames in your target JVM, you need
to be able to provide a thread reference (a <abbr title="Java Debugger Interface">JDI</abbr> structure) to indicate which
suspended thread will step forward.</p>
<h2 id="performing-a-step">Performing a step<a class="headerlink" href="#performing-a-step" title="Permanent link">&para;</a></h2>
<p>Performing a step is a very simple process. First, you need to make sure that
your target JVM is in a state where it can perform a step. This means that the
thread where the step will be performed needs to be suspended. The easiest way
to achieve this state in the location where you want to start is to set a
breakpoint and step as a reaction when a breakpoint occurs.</p>
<pre><code class="scala">val s: ScalaVirtualMachine = /* some virtual machine */
val fileName: String = /* desired starting file location */
val lineNumber: Int = /* desired starting line location */

s.onUnsafeBreakpoint(fileName, lineNumber).foreach(be =&gt; {
  val path = be.location().sourcePath()
  val line = be.location().lineNumber()

  println(s&quot;Reached breakpoint for $path:$line&quot;)

  /* Step code would go here */
})
</code></pre>

<p>Once you are ready to perform a step, you need to decide what kind of step you
would like to perform. The Scala debugger API supports six kinds of steps:</p>
<ol>
<li>Step into a line of code: <code>stepIntoLine</code></li>
<li>Step over a line of code: <code>stepOverLine</code></li>
<li>Step out of a line of code: <code>stepOutLine</code></li>
<li>Step into a frame: <code>stepIntoMin</code></li>
<li>Step over a frame: <code>stepOverMin</code></li>
<li>Step out of a frame: <code>stepOutMin</code></li>
</ol>
<p>The more common step types are associated with lines of code, rather than
stack frames. All of these methods return a future that is completed when the
step operation has completed. Each of these methods also requires you to
provide a <a href="http://docs.oracle.com/javase/7/docs/jdk/api/jpda/jdi/com/sun/jdi/ThreadReference.html"><code>ThreadReference</code></a> where the step will occur. You
can acquire the reference to the thread where a breakpoint occurred from the
breakpoint event as seen in the example below.</p>
<pre><code class="scala">val be: BreakpointEvent = /* Breakpoint event from above code example */

// Step methods return a future that occurs when the step finishes
import scala.concurrent.ExecutionContext.Implicits.global
s.stepOverLine(be.thread()).foreach(se =&gt; {
  val path = se.location().sourcePath()
  val line = se.location().lineNumber()

  println(s&quot;Stepped to $path:$line&quot;)
})
</code></pre>

<h2 id="cookbook">Cookbook<a class="headerlink" href="#cookbook" title="Permanent link">&para;</a></h2>
<p>See the <a href="../../cookbook/stepping-over-a-line-of-code/">cookbook</a> for a working example.</p></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
                <p>Copyright &copy; 2015 <a href="http://chipsenkbeil.com">Chip Senkbeil</a>.</p>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
